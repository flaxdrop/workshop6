<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: trafik.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('trafik_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">trafik.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;iomanip&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8a0899713c9746a41d73dbe6bc249b2b" id="r_a8a0899713c9746a41d73dbe6bc249b2b"><td class="memItemLeft" align="right" valign="top"><a id="a8a0899713c9746a41d73dbe6bc249b2b" name="a8a0899713c9746a41d73dbe6bc249b2b"></a>enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a0899713c9746a41d73dbe6bc249b2b">TrafficLightColor</a> { <b>GREEN</b>
, <b>RED</b>
, <b>YELLOW</b>
 }</td></tr>
<tr class="memdesc:a8a0899713c9746a41d73dbe6bc249b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum class för att hålla koll på vilken färg som lyser i trafikljuset. <br /></td></tr>
<tr class="separator:a8a0899713c9746a41d73dbe6bc249b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7138acdcadf1222850e28efaede4e8d3" id="r_a7138acdcadf1222850e28efaede4e8d3"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="#a8a0899713c9746a41d73dbe6bc249b2b">TrafficLightColor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7138acdcadf1222850e28efaede4e8d3">currentState</a> (TrafficLightColor::RED)</td></tr>
<tr class="memdesc:a7138acdcadf1222850e28efaede4e8d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">std::atomic&lt;TrafficLightColor&gt; som håller koll på vilken färg som lyser i trafikljuset.  <br /></td></tr>
<tr class="separator:a7138acdcadf1222850e28efaede4e8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f86724914ce132c1c339e46dd7c919" id="r_ad1f86724914ce132c1c339e46dd7c919"><td class="memItemLeft" align="right" valign="top"><a id="ad1f86724914ce132c1c339e46dd7c919" name="ad1f86724914ce132c1c339e46dd7c919"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>exitprogram</b> (false)</td></tr>
<tr class="separator:ad1f86724914ce132c1c339e46dd7c919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ea47e8c68f87e27e1de736de58275b" id="r_aa6ea47e8c68f87e27e1de736de58275b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6ea47e8c68f87e27e1de736de58275b">trafficLightController</a> (int greenTime, int redTime, int yellowTime, int extendedRedTime)</td></tr>
<tr class="memdesc:aa6ea47e8c68f87e27e1de736de58275b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traffic Light Controller Här är där all magi händer. Funktionen som flippar mellan färgerna, tar emot pushbutton kön och ändrar färgerna därefter. Här har vi använt oss av logstate funktionen som vi skrev för varje output, samt condition_variable och mutex för att se till Att det inte uppstår race condition mellan trådarna.  <br /></td></tr>
<tr class="separator:aa6ea47e8c68f87e27e1de736de58275b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58f973227bed2ce6a22eb4a13f76c32" id="r_ae58f973227bed2ce6a22eb4a13f76c32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae58f973227bed2ce6a22eb4a13f76c32">userInput</a> ()</td></tr>
<tr class="memdesc:ae58f973227bed2ce6a22eb4a13f76c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">User input som kollar om q trycks så avslutar programmet, om p trycks så gör det att fotgängaren kan gå över övergångstället.  <br /></td></tr>
<tr class="separator:ae58f973227bed2ce6a22eb4a13f76c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6fb83bec11fa4da6515056eb467835" id="r_aab6fb83bec11fa4da6515056eb467835"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab6fb83bec11fa4da6515056eb467835">logState</a> (const std::string &amp;event)</td></tr>
<tr class="memdesc:aab6fb83bec11fa4da6515056eb467835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funktion som printar ut system_clock till terminalen för att hålla koll, samt loggar detta till en textfile för att spara informationen.  <br /></td></tr>
<tr class="separator:aab6fb83bec11fa4da6515056eb467835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main funktionen som innehåller config för ljusens tider, 2 threads med ljusen på en, och userinput på den andra.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca74b85af902a109a319718c4f89fe0" id="r_abca74b85af902a109a319718c4f89fe0"><td class="memItemLeft" align="right" valign="top"><a id="abca74b85af902a109a319718c4f89fe0" name="abca74b85af902a109a319718c4f89fe0"></a>
std::ofstream&#160;</td><td class="memItemRight" valign="bottom"><b>logFile</b> (&quot;traffic_light_log.txt&quot;, std::ios_base::app)</td></tr>
<tr class="separator:abca74b85af902a109a319718c4f89fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a51af509e376f73f98d8a0db2df49bd35" id="r_a51af509e376f73f98d8a0db2df49bd35"><td class="memItemLeft" align="right" valign="top"><a id="a51af509e376f73f98d8a0db2df49bd35" name="a51af509e376f73f98d8a0db2df49bd35"></a>
std::queue&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>pushbutton</b></td></tr>
<tr class="separator:a51af509e376f73f98d8a0db2df49bd35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e0dbd36f0d71fce9b00b7f991b2f38" id="r_ad5e0dbd36f0d71fce9b00b7f991b2f38"><td class="memItemLeft" align="right" valign="top"><a id="ad5e0dbd36f0d71fce9b00b7f991b2f38" name="ad5e0dbd36f0d71fce9b00b7f991b2f38"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>mtx</b></td></tr>
<tr class="separator:ad5e0dbd36f0d71fce9b00b7f991b2f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afa02d14fff34c480aabfbc41ad193c" id="r_a0afa02d14fff34c480aabfbc41ad193c"><td class="memItemLeft" align="right" valign="top"><a id="a0afa02d14fff34c480aabfbc41ad193c" name="a0afa02d14fff34c480aabfbc41ad193c"></a>
std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><b>cv</b></td></tr>
<tr class="separator:a0afa02d14fff34c480aabfbc41ad193c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed4e2e604e59227624ba22c4161bc64" id="r_a1ed4e2e604e59227624ba22c4161bc64"><td class="memItemLeft" align="right" valign="top"><a id="a1ed4e2e604e59227624ba22c4161bc64" name="a1ed4e2e604e59227624ba22c4161bc64"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>logMutex</b></td></tr>
<tr class="separator:a1ed4e2e604e59227624ba22c4161bc64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>your name (<a href="#" onclick="location.href='mai'+'lto:'+'you'+'@d'+'oma'+'in'+'.co'+'m'; return false;">you@d<span class="obfuscator">.nosp@m.</span>omai<span class="obfuscator">.nosp@m.</span>n.com</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-01-23</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7138acdcadf1222850e28efaede4e8d3" name="a7138acdcadf1222850e28efaede4e8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7138acdcadf1222850e28efaede4e8d3">&#9670;&#160;</a></span>currentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; <a class="el" href="#a8a0899713c9746a41d73dbe6bc249b2b">TrafficLightColor</a> &gt; currentState </td>
          <td>(</td>
          <td class="paramtype">TrafficLightColor::RED</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>std::atomic&lt;TrafficLightColor&gt; som håller koll på vilken färg som lyser i trafikljuset. </p>
<dl class="section return"><dt>Returns</dt><dd>std::atomic&lt;TrafficLightColor&gt; </dd></dl>

</div>
</div>
<a id="aab6fb83bec11fa4da6515056eb467835" name="aab6fb83bec11fa4da6515056eb467835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab6fb83bec11fa4da6515056eb467835">&#9670;&#160;</a></span>logState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logState </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funktion som printar ut system_clock till terminalen för att hålla koll, samt loggar detta till en textfile för att spara informationen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>eventet som skall loggas </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main funktionen som innehåller config för ljusens tider, 2 threads med ljusen på en, och userinput på den andra. </p>
<dl class="section return"><dt>Returns</dt><dd>int Returnerar 0 </dd></dl>

</div>
</div>
<a id="aa6ea47e8c68f87e27e1de736de58275b" name="aa6ea47e8c68f87e27e1de736de58275b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ea47e8c68f87e27e1de736de58275b">&#9670;&#160;</a></span>trafficLightController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trafficLightController </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>greenTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>redTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>yellowTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>extendedRedTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traffic Light Controller Här är där all magi händer. Funktionen som flippar mellan färgerna, tar emot pushbutton kön och ändrar färgerna därefter. Här har vi använt oss av logstate funktionen som vi skrev för varje output, samt condition_variable och mutex för att se till Att det inte uppstår race condition mellan trådarna. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">greenTime</td><td>tid för grönt ljus </td></tr>
    <tr><td class="paramname">redTime</td><td>tid för rött ljus </td></tr>
    <tr><td class="paramname">yellowTime</td><td>tid för gult ljus </td></tr>
    <tr><td class="paramname">extendedRedTime</td><td>förlängd tid för röd ljus </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae58f973227bed2ce6a22eb4a13f76c32" name="ae58f973227bed2ce6a22eb4a13f76c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58f973227bed2ce6a22eb4a13f76c32">&#9670;&#160;</a></span>userInput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void userInput </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User input som kollar om q trycks så avslutar programmet, om p trycks så gör det att fotgängaren kan gå över övergångstället. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="trafik_8cpp.html">trafik.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
